!function(g,h){"function"===typeof define&&"object"===typeof define.amd?define(h):this[g]=h()}("draggable",function(){function g(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c}function h(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+b]=null}function q(a){a.draggableListeners={start:[],drag:[],stop:[]};a.whenDragStarts=k(a,"start");a.whenDragging=k(a,"drag");a.whenDragStops=k(a,"stop")}
function k(a,b){return function(c){a.draggableListeners[b].push(c)}}function l(a,b){for(var c=!0,e=d.draggableListeners[a],f=e.length-1;0<=f;f--)!1===e[f](b)&&(c=!1);return c}function m(a){a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();return a.returnValue=!1}function n(a){a.preventDefault&&a.preventDefault();a.returnValue=!1;var b=d.style,c=parseInt(b.left,10),e=parseInt(b.top,10),c=c+(a.clientX-d.lastXPosition),e=e+(a.clientY-d.lastYPosition);b.left=c+"px";b.top=e+"px";
d.lastXPosition=a.clientX;d.lastYPosition=a.clientY;l("drag",{x:c,y:e,mouseEvent:a})}function p(a){h(document,"selectstart",m);h(document,"mousemove",n);h(document,"mouseup",p);var b=parseInt(d.style.left,10),c=parseInt(d.style.top,10);l("stop",{x:b,y:c,mouseEvent:a})}var d;return function(a,b){b=b||a;a.style.position="fixed";q(a);g(b,"mousedown",function(b){var e,f;d&&(e=d,e.style["z-index"]=9,e.style.zIndex=9);a.style["z-index"]="10";a.style.zIndex="10";d=a;f=d.getBoundingClientRect();e=f.top;f=
f.left;d.style.left=f+"px";d.style.top=e+"px";d.lastXPosition=b.clientX;d.lastYPosition=b.clientY;l("start",{x:f,y:e,mouseEvent:b})&&(g(document,"selectstart",m),g(document,"mousemove",n),g(document,"mouseup",p))})}});
